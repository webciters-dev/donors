# VPS Diagnostic Commands to Check reCAPTCHA Configuration

## 1. Check Frontend .env.production on VPS
ssh sohail@aircrew.nl
cat /home/sohail/projects/donors/.env.production

## 2. Check Backend .env.production on VPS
cat /home/sohail/projects/donors/server/.env.production

## 3. Check the built dist folder
ls -la /var/www/aircrew.nl/

## 4. Check if .env is being used in nginx (usually it's just serving static files)
cat /etc/nginx/sites-enabled/aircrew.nl

## 5. Check what's in the dist/index.html to see if site key is embedded
grep -i "recaptcha" /var/www/aircrew.nl/index.html

## 6. Check the main JavaScript bundle for reCAPTCHA site key
grep -r "VITE_RECAPTCHA_SITE_KEY" /var/www/aircrew.nl/

## 7. Check the actual JavaScript assets (might need to search in .js files)
ls -lah /var/www/aircrew.nl/assets/ | head -20

## 8. Check if PM2 is running and what env vars it's using
pm2 status

## 9. Check PM2 environment variables for backend
pm2 env 0  # (0 is the app index, might be different)

## 10. Check last build time of dist
stat /home/sohail/projects/donors/dist/index.html

# Optional: Check if there are any error logs
tail -50 /var/log/nginx/error.log
tail -50 /var/log/nginx/access.log
pm2 logs

